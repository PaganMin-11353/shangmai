{{ define "main" }}
<div style="padding: 2rem 0;">
    <div class="container">
        <!-- Page Header -->
        <header style="margin-bottom: 3rem; text-align: center;">
            <h1 style="font-size: 2.5rem; margin-bottom: 1rem;">{{ .Title }}</h1>
            {{ if .Params.description }}
            <p style="font-size: 1.25rem; color: var(--color-text-light); max-width: 800px; margin: 0 auto;">{{ .Params.description }}</p>
            {{ end }}
        </header>
        
        <!-- Products Grid (for products section) -->
        {{ if eq .Section "products" }}
        {{ if .Pages }}
        <div class="product-grid">
            {{ range .Pages }}
            <article class="product-card">
                {{ if .Params.image }}
                <img src="{{ .Params.image }}" alt="{{ .Title }}" class="product-image">
                {{ else }}
                <div class="product-image" style="display: flex; align-items: center; justify-content: center; background-color: var(--color-surface); color: var(--color-text-muted);">
                    No Image
                </div>
                {{ end }}
                <div class="product-info">
                    <h3 class="product-title">{{ .Title }}</h3>
                    <p class="product-description">{{ .Summary | truncate 120 }}</p>
                    {{ if .Params.tags }}
                    <div class="product-tags">
                        {{ range .Params.tags }}
                        <span class="product-tag">{{ . }}</span>
                        {{ end }}
                    </div>
                    {{ end }}
                    <a href="{{ .RelPermalink }}" class="btn btn-outline">Learn More</a>
                </div>
            </article>
            {{ end }}
        </div>
        {{ else }}
        <div class="text-center" style="padding: 3rem 0;">
            <p style="font-size: 1.125rem; color: var(--color-text-light);">No products available at the moment.</p>
        </div>
        {{ end }}
        
        <!-- Regular Content Grid (for other sections) -->
        {{ else }}
        {{ if .Pages }}
        <div class="grid grid-2" style="gap: 2rem;">
            {{ range .Pages }}
            <article class="card">
                {{ if .Params.image }}
                <img src="{{ .Params.image }}" alt="{{ .Title }}" style="width: 100%; height: 200px; object-fit: cover; border-radius: var(--border-radius); margin-bottom: 1rem;">
                {{ end }}
                <h2 class="card-title">
                    <a href="{{ .RelPermalink }}" style="color: inherit; text-decoration: none;">{{ .Title }}</a>
                </h2>
                <p class="card-text">{{ .Summary | truncate 150 }}</p>
                {{ if .Date }}
                <p style="font-size: 0.875rem; color: var(--color-text-muted); margin-bottom: 1rem;">
                    {{ .Date.Format "January 2, 2006" }}
                </p>
                {{ end }}
                <a href="{{ .RelPermalink }}" class="btn btn-outline">Read More</a>
            </article>
            {{ end }}
        </div>
        {{ else }}
        <div class="text-center" style="padding: 3rem 0;">
            <p style="font-size: 1.125rem; color: var(--color-text-light);">No content available in this section.</p>
        </div>
        {{ end }}
        {{ end }}
        
        <!-- Pagination -->
        {{ if .Paginator }}
        {{ if gt .Paginator.TotalPages 1 }}
        <nav style="margin-top: 3rem; display: flex; justify-content: center; align-items: center; gap: 1rem;">
            {{ if .Paginator.HasPrev }}
            <a href="{{ .Paginator.Prev.URL }}" class="btn btn-outline">← Previous</a>
            {{ end }}
            
            <span style="color: var(--color-text-muted);">
                Page {{ .Paginator.PageNumber }} of {{ .Paginator.TotalPages }}
            </span>
            
            {{ if .Paginator.HasNext }}
            <a href="{{ .Paginator.Next.URL }}" class="btn btn-outline">Next →</a>
            {{ end }}
        </nav>
        {{ end }}
        {{ end }}
    </div>
</div>
{{ end }}